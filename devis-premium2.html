<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calculateur de Tarifs PREMIUM - Nico-LA</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Belleza:wght@400&display=swap');

*, *::before, *::after {
    font-family: "Belleza", sans-serif !important;
}

select, option, optgroup {
    font-family: "Belleza", sans-serif !important;
}

input, textarea, button {
    font-family: "Belleza", sans-serif !important;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: "Belleza", sans-serif;
    background-color: #f0f4f7;
    color: #000000;
    line-height: 1.6;
    padding: 20px;
}

.calculator-container {
    max-width: 650px;
    margin: 0 auto;
    
    background-color: #ffffff;
    border-radius: 12px;
    box-shadow: 0 8px 25px rgba(0,0,0,0.1);
    overflow: hidden;
}

.calculator-header {
    background: linear-gradient(135deg, #E3B100 0%, #B0780B 100%);
    color: white;
    padding: 30px;
    text-align: center;
}

.calculator-header h1 {
    font-size: 2.2em;
    margin-bottom: 10px;
    font-family: "Belleza", sans-serif;
}

.calculator-header p {
    font-size: 1.1em;
    opacity: 0.9;
}

.calculator-body {
    padding: 40px;
}

.form-group {
    margin-bottom: 25px;
    position: relative;
}

.form-group label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
    color: #333;
    font-size: 1.1em;
}

.form-control {
    width: 100%;
    padding: 12px 15px;
    border: 2px solid #e0e0e0;
    border-radius: 8px;
    font-size: 1em;
    font-family: "Belleza", sans-serif;
   transition: all 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
}

.form-control:focus {
    outline: none;
    border-color: #E3B100;
    box-shadow: 0 0 0 3px rgba(227, 177, 0, 0.1);
}

select.form-control {
    cursor: pointer;
    font-size: 0.85em;
}

.input-group {
    display: flex;
    gap: 15px;
    flex-wrap: wrap;
}

.input-group .form-group {
    flex: 1;
    min-width: 200px;
}

.options-grid {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.option-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px;
    border: 2px solid #e0e0e0;
    border-radius: 8px;
    transition: all 0.3s ease, background-color 0.3s ease, border-color 0.3s ease;
    background-color: #fff;
}

.option-item:hover {
    background-color: #f8f9fa;
    border-color: #E3B100;
}

.option-item label:first-child {
    flex-grow: 1;
    margin: 0;
}

.radio-group {
    display: flex;
    gap: 15px;
    align-items: center;
}

.radio-group label {
    display: flex;
    align-items: center;
    gap: 5px;
    margin: 0;
    cursor: pointer;
    font-weight: normal;
}

.radio-group input[type="radio"] {
    accent-color: #E3B100;
}

.parking-input {
    margin-left: 20px;
    padding: 10px;
    background-color: #f8f9fa;
    border-radius: 5px;
    border: 1px solid #dee2e6;
    transition: all 0.3s ease;
}

.option-detail {
    color: #333;
    font-style: italic;
    display: block;
    margin-top: 3px;
}

.materials-container {
    background-color: #f8f9fa;
    border: 2px solid #E3B100;
    border-radius: 10px;
    padding: 20px;
    margin-top: 20px;
    transition: all 0.3s ease;
}

.materials-header {
    font-size: 1.1em;
    color: #B0780B;
    margin-bottom: 15px;
    text-align: center;
}

.materials-info {
    background-color: #e8f4fd;
    border: 1px solid #bee5eb;
    color: #0c5460;
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 15px;
    font-size: 0.95em;
    line-height: 1.5;
}

.materials-checkbox, .disclaimer-checkbox {
    display: flex;
    align-items: center;
    gap: 10px;
    justify-content: center;
    padding: 15px;
    background-color: #fff;
    border-radius: 8px;
    border: 2px solid #dee2e6;
    transition: all 0.3s ease;
}

.materials-checkbox input[type="checkbox"], .disclaimer-checkbox input[type="checkbox"] {
    width: 18px;
    height: 18px;
    accent-color: #E3B100;
}

.materials-checkbox label, .disclaimer-checkbox label {
    margin: 0;
    cursor: pointer;
    font-weight: 500;
}

.disclaimer-note {
    background-color: #ff9999;
    border: 2px solid #dc3545;
    border-radius: 10px;
    padding: 20px;
    margin-top: 30px;
    transition: all 0.3s ease;
}

.disclaimer-header {
    font-size: 1.1em;
    color: #495057;
    margin-bottom: 15px;
    text-align: center;
}

.disclaimer-info {
    background-color: transparent;
    border: none;
    color: #0c5460;
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 15px;
    font-size: 0.95em;
    line-height: 1.5;
    text-align: center;
}

.error-field {
    border-color: #dc3545 !important;
    box-shadow: 0 0 0 3px rgba(220, 53, 69, 0.15) !important;
    background-color: #fff5f5 !important;
    transition: all 0.3s ease !important;
}

.success-field {
    border-color: #28a745 !important;
    box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.15) !important;
    background-color: #f8fff8 !important;
    transition: all 0.3s ease !important;
}

.error-checkbox, .error-option {
    background-color: #f8d7da !important;
    border-color: #dc3545 !important;
    transition: all 0.3s ease !important;
}

.success-checkbox, .success-option {
    background-color: #d4edda !important;
    border-color: #28a745 !important;
    transition: all 0.3s ease !important;
}

.disclaimer-error {
    background-color: #ff9999 !important;
    border-color: #dc3545 !important;
    transition: all 0.3s ease !important;
}

.disclaimer-success {
    background-color: #d4edda !important;
    border-color: #28a745 !important;
    transition: all 0.3s ease !important;
}

.alert {
    background-color: #fff3cd;
    border: 1px solid #ffeaa7;
    color: #856404;
    padding: 15px;
    border-radius: 8px;
    margin: 20px 0;
    display: none;
}

.alert-warning {
    background-color: #f8d7da;
    border-color: #f5c6cb;
    color: #721c24;
}

.result-container {
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    border-radius: 12px;
    padding: 30px;
    margin-top: 30px;
    border: 2px solid #E3B100;
    display: none;
    animation: slideDown 0.4s ease-out;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.result-title {
    font-size: 1.5em;
    color: #B0780B;
    margin-bottom: 20px;
    text-align: center;
}

.result-line {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    padding: 8px 0;
    border-bottom: 1px solid #dee2e6;
    gap: 15px;
}

.result-line:last-child {
    border-bottom: none;
    font-weight: bold;
    font-size: 1.2em;
    color: #B0780B;
    border-top: 2px solid #E3B100;
    padding-top: 15px;
    margin-top: 10px;
}

.result-line[data-options] {
    flex-direction: column;
    align-items: flex-start;
}

.result-line[data-options] span:last-child {
    margin-top: 5px;
    margin-left: 20px;
    font-style: italic;
}

.price-highlight {
    background: linear-gradient(135deg, #E3B100 0%, #B0780B 100%);
    color: white;
    padding: 20px;
    border-radius: 8px;
    text-align: center;
    margin-top: 20px;
}

.price-highlight .final-price {
    font-size: 2em;
    font-weight: bold;
    margin-bottom: 5px;
}

.price-highlight .credit-info {
    font-size: 0.9em;
    opacity: 0.9;
}

@media (max-width: 768px) {
    .calculator-body {
        padding: 20px;
    }
    
    .calculator-container {
        margin: 0 10px;
    }

    #contactButtons {
        flex-direction: column !important;
    }
    
    .input-group {
        flex-direction: column;
    }
    
    .input-group .form-group {
        min-width: 100%;
    }
    
    .calculator-header h1 {
        font-size: 1.8em;
    }
}

.print-button {
    background: linear-gradient(135deg, #E3B100 0%, #B0780B 100%);
    color: white;
    padding: 15px 25px;
    border-radius: 8px;
    border: none;
    font-weight: bold;
    font-size: 1.1em;
    cursor: pointer;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    gap: 10px;
    margin-top: 20px;
    font-family: "Belleza", sans-serif;
}

.print-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 12px rgba(0,0,0,0.3);
}

@media print {
    body * {
        visibility: hidden;
    }
    .result-container, .result-container * {
        visibility: visible;
    }
    .result-container {
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        box-shadow: none;
        border: 2px solid #000;
    }
    .print-button, #contactButtonContainer {
        display: none !important;
    }
}

</style>
</head>
<body>
    <div class="calculator-container">
        <div class="calculator-header">
            <h1>Calculateur de Tarifs PREMIUM*</h1>
            <p>Votre estimation "PREMIUM" personnalis√©e (hors fournitures), en quelques clics üòÉ!<br/>
            Recommencez autant que vous voulez! Actualisez la page!</p>
        </div>
        
        <div class="calculator-body">
            <div class="disclaimer-note" id="disclaimerContainer">
                <div class="disclaimer-header">
                    <strong>* Outil mis √† disposition du Client</strong>
                </div>
                <div class="disclaimer-info">
                    M√™me si le prix devrait √™tre proche du TTC r√©el final, hors fournitures, il devra n√©anmoins √™tre contr√¥l√© et ajust√© si n√©cessaire par l'auteur des travaux. Merci de votre compr√©hension.
                </div>
                </div>
                <div class="disclaimer-checkbox" id="disclaimerCheckbox">
                    <label for="disclaimer">Je comprends que ce prix sera uniquement <strong><em>estimatif</em></strong></label>
                    <input type="checkbox" id="disclaimer" data-type="disclaimer">
                </div>
            </div>

            <form id="calculatorForm">
                <div class="form-group">
                    <label for="service">Choisissez votre service :</label>
                    <select id="service" class="form-control" required>
                        <option value="">-- S√©lectionnez un service --</option>
                        <optgroup label="FORMULE PREMIUM - 50‚Ç¨/h HT">
                            <option value="electrification_velo" data-rate="50" data-special="vae">√âlectrification d'un v√©lo (√©tape 1/2)</option>
                            <option value="motoculture_difficile" data-rate="50">Panne Motoculture (difficile)</option>
                            <option value="debarras_gros" data-rate="50">D√©barras de caves, greniers ou garages ( physique )</option>
                            <option value="demolition" data-rate="50">D√©pose cloisons/d√©molition int√©rieure</option>
                            <option value="montage_cuisine" data-rate="50">Montage cuisines √©quip√©es/gros meubles</option>
                        </optgroup>
                        <optgroup label="FORMULE PREMIUM - 60‚Ç¨/h HT">
                            <option value="vehicule_difficile" data-rate="60">Moto/Scooter/Voiture (difficile)</option>
                            <option value="toiture" data-rate="60">R√©paration toitures/goutti√®res/bardages</option>
                            <option value="taches_complexes" data-rate="60" data-special="devis">Tout travail physique/technique/complexe. Ex: syst√®me domotique, creuser une tranch√©e, etc...</option>
                        </optgroup>
                    </select>
                </div>

                <div class="alert alert-warning" id="devisAlert">
                    <strong>Devis personnalis√© obligatoire.</strong><br>
                    Ce type de prestation n√©cessite une √©valuation personnalis√©e. Le calculateur peut donner une estimation indicative pour d'autres prestations, mais pour celle-ci, un devis d√©taill√© sera √©tabli en collaboration avec vous selon vos besoins sp√©cifiques.
                    <br><br>
                    <div style="text-align: center; margin-top: 15px;">
                        <a href="https://nico-la-contact.carrd.co/" target="_blank" style="display: inline-block; background: linear-gradient(135deg, #E3B100 0%, #B0780B 100%); color: white; padding: 15px 25px; border-radius: 8px; text-decoration: none; font-weight: bold; font-size: 1.1em; cursor: pointer; box-shadow: 0 4px 8px rgba(0,0,0,0.2); transition: all 0.3s ease;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 12px rgba(0,0,0,0.3)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 8px rgba(0,0,0,0.2)'">
                            Contactez Nico pour un devis personnalis√©
                        </a>
                    </div>
                </div>

                <div class="alert" id="vaeAlert" style="background-color: #e8f4fd; border: 2px solid #0c5460; color: #0c5460; display: none;">
                    <strong>Information importante sur l'√©lectrification d'un v√©lo</strong><br><br>
                    
                    <strong>R√©glementation fran√ßaise et europ√©enne :</strong><br>
                    La r√©glementation fran√ßaise (et europ√©enne, directive 2002/24/CE puis r√®glement UE 168/2013) encadre tr√®s pr√©cis√©ment ce qui peut devenir un <strong>v√©lo √† assistance √©lectrique (VAE)</strong>.<br><br>
                    
                    Un <strong>VAE homologu√©</strong> doit obligatoirement r√©pondre √† la norme <strong>EN 15194</strong> :<br>
                    ‚Ä¢ assistance uniquement quand on p√©dale (pas de poign√©e d'acc√©l√©rateur seule)<br>
                    ‚Ä¢ moteur ‚â§ 250 W<br>
                    ‚Ä¢ assistance qui se coupe √† 25 km/h<br>
                    ‚Ä¢ conformit√© technique (freinage, √©clairage, marquages CE, etc.)<br><br>
                    
                    <strong>Cela exclut d'embl√©e certains types de v√©los :</strong><br><br>
                    
                    <strong>1. V√©los d√©j√† motoris√©s autrement</strong><br>
                    V√©los √©quip√©s d'un moteur thermique (cyclomoteurs, solex, etc.) ‚Üí ne peuvent pas √™tre homologu√©s comme VAE.<br><br>
                    
                    <strong>2. V√©los con√ßus sans p√©dales</strong><br>
                    Trottinettes, draisiennes √©lectriques, engins assimil√©s EDPM ‚Üí pas de p√©dalage = impossible de les faire homologuer comme VAE.<br><br>
                    
                    <strong>3. V√©los trop puissants ou trop rapides</strong><br>
                    Si le kit d√©passe 250 W ou que l'assistance va au-del√† de 25 km/h ‚Üí ce n'est plus un VAE mais un <strong>speed bike</strong> (cyclomoteur) ‚Üí immatriculation, assurance, casque homologu√©, etc.<br><br>
                    
                    <strong>4. V√©los inadapt√©s structurellement</strong><br>
                    Cadres trop anciens ou fragiles qui ne supporteraient pas l'ajout d'un kit moteur/batterie ‚Üí en pratique, ils ne pourraient pas passer l'homologation.<br><br>
                    
                    <strong>5. V√©los modifi√©s sans respect des normes CE</strong><br>
                    Si le montage d'un kit n'est pas certifi√© conforme √† la norme EN 15194 ‚Üí le v√©lo perd sa conformit√© et n'a plus le statut l√©gal de VAE.<br><br>
                    
                    <strong>En r√©sum√© :</strong><br>
                    Seuls les v√©los √† p√©dales, non motoris√©s √† l'origine, transform√©s avec un kit conforme et limit√© (250 W / 25 km/h / coupure √† l'arr√™t du p√©dalage) peuvent devenir des VAE l√©gaux.<br><br>
                    
                    <strong>Notre prestation comprend :</strong><br>
                    ‚Ä¢ 3h d'√©lectrification (50‚Ç¨/h HT)<br>
                    ‚Ä¢ 2h de finitions/r√©glages (35‚Ç¨/h HT)<br>
                    ‚Ä¢ Total : 5h de travail sp√©cialis√©
                </div>

                <div class="input-group">
                    <div class="form-group" id="hoursGroup">
                        <label for="hours">Nombre d'heures estim√©es :</label>
                        <input type="number" id="hours" class="form-control" min="1" step="1" value="" placeholder="Ex: 3" required title="Indiquez le nombre d'heures n√©cessaires (minimum 1h) selon vous" aria-label="Nombre d'heures estim√©es pour la prestation, minimum 1 heure">
                    </div>
                    
                    <div class="form-group">
                        <label for="trips">Nombre de d√©placements chez le client :</label>
                        <input type="number" id="trips" class="form-control" min="1" value="" placeholder="Ex: 1" required title="Nombre de fois o√π je devrai me d√©placer chez vous" aria-label="Nombre de d√©placements n√©cessaires, minimum 1">
                    </div>
                </div>

                <div class="form-group">
                    <label>Options suppl√©mentaires :</label>
                    <div class="options-grid">
                        <div class="option-item" data-option="evening">
                            <label><strong>Intervention soir√©e</strong> (apr√®s 18h)<br><small class="option-detail">+20% sur le taux horaire</small></label>
                            <div class="radio-group">
                                <label><input type="radio" name="evening" value="-" checked> -</label>
                                <label><input type="radio" name="evening" value="non"> Non</label>
                                <label><input type="radio" name="evening" value="oui"> Oui</label>
                            </div>
                        </div>
                        <div class="option-item" data-option="difficult_access">
                            <label><strong>Acc√®s difficile</strong> (‚â•3e √©tage sans ascenseur)<br><small class="option-detail">+15‚Ç¨ HT</small></label>
                            <div class="radio-group">
                                <label><input type="radio" name="difficult_access" value="-" checked> -</label>
                                <label><input type="radio" name="difficult_access" value="non"> Non</label>
                                <label><input type="radio" name="difficult_access" value="oui"> Oui</label>
                            </div>
                        </div>
                        <div class="option-item" data-option="parking">
                            <label><strong>Parking payant</strong><br><small class="option-detail">+5‚Ç¨ HT par demi-journ√©e</small></label>
                            <div class="radio-group">
                                <label><input type="radio" name="parking" value="-" checked> -</label>
                                <label><input type="radio" name="parking" value="non"> Non</label>
                                <label><input type="radio" name="parking" value="oui"> Oui</label>
                            </div>
                        </div>
                        <div class="parking-input" id="parkingInput" style="display: none;">
                            <label for="parking_days"><strong>Nombre de fois o√π le parking payant sera utilis√© :</strong></label>
                            <input type="number" id="parking_days" class="form-control" min="1" step="1" value="" placeholder="Entrez un nombre ‚â• 1" style="width: 340px; display: inline-block; margin-left: 10px;">
                            <small style="display: block; color: #666; margin-top: 5px; font-style: italic;">
                                Indiquez le nombre total de fois o√π le parking payant sera utilis√© (minimum 1)
                            </small>
                        </div>
                        <div class="option-item" data-option="cleaning">
                            <label><strong>Nettoyage post-intervention</strong><br><small class="option-detail">+15‚Ç¨ HT</small></label>
                            <div class="radio-group">
                                <label><input type="radio" name="cleaning" value="-" checked> -</label>
                                <label><input type="radio" name="cleaning" value="non"> Non</label>
                                <label><input type="radio" name="cleaning" value="oui"> Oui</label>
                            </div>
                        </div>
                        <div class="option-item" data-option="waste_removal">
                            <label><strong>√âvacuation d√©chets/gravats</strong><br><small class="option-detail">+20‚Ç¨ HT</small></label>
                            <div class="radio-group">
                                <label><input type="radio" name="waste_removal" value="-" checked> -</label>
                                <label><input type="radio" name="waste_removal" value="non"> Non</label>
                                <label><input type="radio" name="waste_removal" value="oui"> Oui</label>
                            </div>
                        </div>
                        <div class="option-item" data-option="long_distance">
                            <label><strong>D√©placement longue distance</strong> (>50km)<br><small class="option-detail">+30‚Ç¨ HT</small></label>
                            <div class="radio-group">
                                <label><input type="radio" name="long_distance" value="-" checked> -</label>
                                <label><input type="radio" name="long_distance" value="non"> Non</label>
                                <label><input type="radio" name="long_distance" value="oui"> Oui</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="materials-container">
                        <div class="materials-header">
                            <strong>Si mat√©riel achet√© pour le chantier</strong>
                        </div>
                        <div class="materials-info">
                            <strong>Information importante :</strong> Conform√©ment √† la r√©glementation des services √† la personne, tout mat√©riel achet√© pour votre chantier est factur√© au prix co√ªtant, sans aucune marge.
                        </div>
                        <div class="materials-checkbox" id="materialsCheckbox">
                            <label for="materials">J'ai compris : Si mat√©riel achet√© - mat√©riel factur√© √† prix co√ªtant (sans marge)</label>
                            <input type="checkbox" id="materials" data-type="note">
                        </div>
                    </div>
                </div>

            </form>

            <div class="result-container" id="resultContainer">
                <div class="result-title">Estimation de votre devis</div>
                <div class="result-line">
                    <span><u>Service s√©lectionn√© :</u></span>
                    <span id="selectedService">-</span>
                </div>
                <div class="result-line">
                    <span><u>Tarif horaire de base :</u></span>
                    <span id="baseHourlyRate">-</span>
                </div>
                <div class="result-line">
                    <span><u>Tarif horaire final :</u></span>
                    <span id="hourlyRate">-</span>
                </div>
                <div class="result-line">
                    <span><u>Dur√©e :</u></span>
                    <span id="duration">-</span>
                </div>
                <div class="result-line">
                    <span><u>D√©placement :</u></span>
                    <span id="tripsCount">-</span>
                </div>
                <div class="result-line">
                    <span><u>Cong√©s pay√©s (10%) :</u></span>
                    <span id="congesPayes">-</span>
                </div>
                <div class="result-line" data-options>
                    <span><u>Options suppl√©mentaires :</u></span>
                    <span id="optionsDetail">-</span>
                </div>
                <div class="result-line">
                    <span><u>Sous-total HT :</u></span>
                    <span id="subtotalHT">-</span>
                </div>
                <div class="result-line" style="font-size: 1.4em; font-weight: bold;">
                    <span><u>Total HT :</u></span>
                    <span id="totalTTC">-</span>
                </div>
                
                <div class="price-highlight">
                    <div class="final-price" id="finalPrice">-</div>
                    <div class="credit-info">Prix final apr√®s cr√©dit d'imp√¥t 50%**</div>
                </div>
                <div style="text-align: center;">
                    <button class="print-button" onclick="window.print()" type="button">
                        üñ®Ô∏è Imprimer ce devis
                    </button>
                    <button class="print-button" onclick="resetCalculator()" type="button" style="background: linear-gradient(135deg, #21BD41 0%, #28E34E 100%);">
                        üîÑ Nouveau devis
                    </button>
                </div>
                <div style="text-align: right; margin-top: 15px; font-size: 0.9em; color: #666;">
                    ** Sous r√©serve d'√©ligibilit√© aux services √† la personne
                </div>
                
                <div style="margin-top: 20px; padding: 15px; background-color: #e8f4fd; border: 2px solid #0c5460; border-radius: 8px; text-align: center;">
                    <strong>TVA non applicable, article 293 B du CGI</strong><br>
                    <small>Micro-entrepreneur en franchise en base de TVA</small>
                </div>
            </div>
        </div>
    </div>

    <script>
        const serviceSelect = document.getElementById('service');
        const hoursInput = document.getElementById('hours');
        const hoursGroup = document.getElementById('hoursGroup');
        const tripsInput = document.getElementById('trips');
        const parkingDaysInput = document.getElementById('parking_days');
        const parkingInputDiv = document.getElementById('parkingInput');
        const materialsCheck = document.getElementById('materials');
        const disclaimerCheck = document.getElementById('disclaimer');
        const resultContainer = document.getElementById('resultContainer');
        const devisAlert = document.getElementById('devisAlert');
        const vaeAlert = document.getElementById('vaeAlert');

        const TRIP_COST = 30;
        const CREDIT_RATE = 0.50;

        function validateField(element, isValid) {
            if (isValid) {
                element.classList.remove('error-field');
                element.classList.add('success-field');
            } else {
                element.classList.remove('success-field');
                element.classList.add('error-field');
            }
        }

        function validateOption(element, isValid) {
            if (isValid) {
                element.classList.remove('error-option');
                element.classList.add('success-option');
            } else {
                element.classList.remove('success-option');
                element.classList.add('error-option');
            }
        }

        function validateCheckbox(element, isValid) {
            if (isValid) {
                element.classList.remove('error-checkbox');
                element.classList.add('success-checkbox');
            } else {
                element.classList.remove('success-checkbox');
                element.classList.add('error-checkbox');
            }
        }

        function validateDisclaimerBlock() {
            const disclaimerContainer = document.getElementById('disclaimerContainer');
            const calculatorForm = document.getElementById('calculatorForm');
            
            if (disclaimerCheck.checked) {
                disclaimerContainer.classList.remove('disclaimer-error');
                disclaimerContainer.classList.add('disclaimer-success');
                
                const selectedOption = serviceSelect.options[serviceSelect.selectedIndex];
                if (selectedOption && selectedOption.dataset.special === 'devis') {
                    return;
                }
                
                calculatorForm.style.opacity = '1';
                calculatorForm.style.pointerEvents = 'auto';
            } else {
                disclaimerContainer.classList.remove('disclaimer-success');
                disclaimerContainer.classList.add('disclaimer-error');
                
                calculatorForm.style.opacity = '0.5';
                calculatorForm.style.pointerEvents = 'none';
            }
        }

        function applyGlobalValidation() {
            if (hoursGroup.style.display !== 'none') {
                const hours = parseInt(hoursInput.value) || 0;
                validateField(hoursInput, hours >= 1);
            }
            
            const trips = parseInt(tripsInput.value) || 0;
            validateField(tripsInput, trips >= 1);
            
            const parkingValue = document.querySelector('input[name="parking"]:checked')?.value;
            if (parkingValue === 'oui') {
                parkingInputDiv.style.display = 'block';
                const parkingDays = parseInt(parkingDaysInput.value) || 0;
                validateField(parkingDaysInput, parkingDays >= 1);
            } else {
                parkingInputDiv.style.display = 'none';
                parkingDaysInput.classList.remove('error-field', 'success-field');
            }
            
            const radioGroups = ['evening', 'difficult_access', 'parking', 'cleaning', 'waste_removal', 'long_distance'];
            radioGroups.forEach(groupName => {
                const selectedValue = document.querySelector(`input[name="${groupName}"]:checked`)?.value;
                const optionElement = document.querySelector(`input[name="${groupName}"]`).closest('.option-item');
                const isValid = selectedValue !== '-';
                validateOption(optionElement, isValid);
            });
            
            validateCheckbox(document.getElementById('materialsCheckbox'), materialsCheck.checked);
            validateCheckbox(document.getElementById('disclaimerCheckbox'), disclaimerCheck.checked);
            
            const disclaimerContainer = document.getElementById('disclaimerContainer');
            if (disclaimerCheck.checked) {
                disclaimerContainer.classList.remove('error-checkbox');
                disclaimerContainer.classList.add('success-checkbox');
            } else {
                disclaimerContainer.classList.remove('success-checkbox');
                disclaimerContainer.classList.add('error-checkbox');
            }
        }

        function updateCalculation() {
            const serviceValid = serviceSelect.value !== "";
            validateField(serviceSelect, serviceValid);

            if (!serviceValid) {
                resultContainer.style.display = 'none';
                vaeAlert.style.display = 'none';
                devisAlert.style.display = 'none';
                return;
            }

            applyGlobalValidation();

            const selectedOption = serviceSelect.options[serviceSelect.selectedIndex];

            if (selectedOption.dataset.special === 'vae') {
                vaeAlert.style.display = 'block';
                hoursGroup.style.display = 'none';
                devisAlert.style.display = 'none';
                
                calculatePriceVAE();
                return;
            } else {
                vaeAlert.style.display = 'none';
                hoursGroup.style.display = 'block';
            }

            if (selectedOption.dataset.special === 'devis') {
                devisAlert.style.display = 'block';
                resultContainer.style.display = 'none';
                
                if (!disclaimerCheck.checked) {
                    return;
                }
                
                const formElements = document.querySelectorAll('#calculatorForm input, #calculatorForm select, #calculatorForm .option-item, #calculatorForm .materials-container');
                formElements.forEach(element => {
                    element.style.opacity = '0.5';
                    element.style.pointerEvents = 'none';
                });
                
                return;
            } else {
                devisAlert.style.display = 'none';
                
                if (!disclaimerCheck.checked) {
                    return;
                }
                
                const formElements = document.querySelectorAll('#calculatorForm input, #calculatorForm select, #calculatorForm .option-item, #calculatorForm .materials-container');
                formElements.forEach(element => {
                    element.style.opacity = '1';
                    element.style.pointerEvents = 'auto';
                });
            }

            calculatePriceNormal();
        }

        function calculatePriceVAE() {
            const selectedOption = serviceSelect.options[serviceSelect.selectedIndex];
            const trips = parseInt(tripsInput.value) || 0;

            // VALIDATION COMPL√àTE pour VAE
            if (trips === 0) {
                resultContainer.style.display = 'none';
                return;
            }

            const eveningValue = document.querySelector('input[name="evening"]:checked')?.value || '-';
            const difficultAccessValue = document.querySelector('input[name="difficult_access"]:checked')?.value || '-';
            const parkingValue = document.querySelector('input[name="parking"]:checked')?.value || '-';
            const cleaningValue = document.querySelector('input[name="cleaning"]:checked')?.value || '-';
            const wasteRemovalValue = document.querySelector('input[name="waste_removal"]:checked')?.value || '-';
            const longDistanceValue = document.querySelector('input[name="long_distance"]:checked')?.value || '-';

            // V√©rifier que toutes les options sont renseign√©es
            if (eveningValue === '-' || difficultAccessValue === '-' || parkingValue === '-' || 
                cleaningValue === '-' || wasteRemovalValue === '-' || longDistanceValue === '-') {
                resultContainer.style.display = 'none';
                return;
            }

            // V√©rifier les checkboxes
            if (!materialsCheck.checked || !disclaimerCheck.checked) {
                resultContainer.style.display = 'none';
                return;
            }

            // Si parking = oui, v√©rifier le nombre de jours
            if (parkingValue === 'oui') {
                const parkingDays = parseInt(parkingDaysInput.value) || 0;
                if (parkingDays === 0) {
                    resultContainer.style.display = 'none';
                    return;
                }
            }

            // Calculs pour VAE
            let electrificationCost, finitionsCost, hoursCostHT;
            
            if (eveningValue === 'oui') {
                electrificationCost = 3 * (50 * 1.20);
                finitionsCost = 2 * (35 * 1.20);
                hoursCostHT = electrificationCost + finitionsCost;
            } else {
                electrificationCost = 3 * 50;
                finitionsCost = 2 * 35;
                hoursCostHT = electrificationCost + finitionsCost;
            }

            const congesPayes = hoursCostHT * 0.10;
            const tripsCostHT = TRIP_COST * trips;

            let optionsText = [];
            let optionsCostHT = 0;
            let optionsCostTotal = 0;

            if (eveningValue === 'oui') {
                optionsText.push('Intervention soir√©e (+20% sur le prix HT)');
            }

            if (difficultAccessValue === 'oui') {
                optionsCostTotal += 15;
                optionsText.push('Acc√®s difficile (+15‚Ç¨ HT)');
            }

            if (cleaningValue === 'oui') {
                optionsCostTotal += 15;
                optionsText.push('Nettoyage (+15‚Ç¨ HT)');
            }

            if (wasteRemovalValue === 'oui') {
                optionsCostTotal += 20;
                optionsText.push('√âvacuation d√©chets (+20‚Ç¨ HT)');
            }

            if (parkingValue === 'oui') {
                const parkingDays = parseInt(parkingDaysInput.value) || 0;
                const parkingCost = parkingDays * 5;
                optionsCostTotal += parkingCost;
                optionsText.push(`Parking payant (${parkingDays} utilisation${parkingDays > 1 ? 's' : ''}: +${parkingCost}‚Ç¨ HT)`);
                parkingInputDiv.style.display = 'block';
            } else {
                parkingInputDiv.style.display = 'none';
            }

            if (longDistanceValue === 'oui') {
                optionsCostHT += 30;
                optionsText.push('Longue distance (+30‚Ç¨ HT)');
            }

            const totalHT = hoursCostHT + congesPayes + tripsCostHT + optionsCostHT + optionsCostTotal;
            const finalPrice = totalHT * CREDIT_RATE;

            document.getElementById('selectedService').textContent = selectedOption.text;
            document.getElementById('baseHourlyRate').textContent = "√âlectrification: 50‚Ç¨/h HT ‚Ä¢ Finitions: 35‚Ç¨/h HT";
            
            if (eveningValue === 'oui') {
                document.getElementById('hourlyRate').textContent = "3h √©lectrification (60‚Ç¨/h HT) + 2h finitions (42‚Ç¨/h HT) = 264‚Ç¨ HT (base + 20%)";
            } else {
                document.getElementById('hourlyRate').textContent = "3h √©lectrification (50‚Ç¨/h HT) + 2h finitions (35‚Ç¨/h HT) = 220‚Ç¨ HT";
            }
            
            document.getElementById('duration').textContent = "5h (fixe pour transformation compl√®te)";
            document.getElementById('tripsCount').textContent = trips === 1 ? 
                `${trips} d√©placement √ó 30‚Ç¨ = ${tripsCostHT}‚Ç¨ HT` : 
                `${trips} d√©placements √ó 30‚Ç¨ = ${tripsCostHT}‚Ç¨ HT`;
            document.getElementById('congesPayes').textContent = `${congesPayes.toFixed(2)}‚Ç¨`;
            document.getElementById('optionsDetail').textContent = optionsText.length > 0 ? optionsText.join(' ‚Ä¢ ') : 'Aucune';
            document.getElementById('subtotalHT').textContent = `${totalHT.toFixed(2)}‚Ç¨`;
            document.getElementById('totalTTC').textContent = `${totalHT.toFixed(2)}‚Ç¨`;
            document.getElementById('finalPrice').textContent = `${finalPrice.toFixed(2)}‚Ç¨`;
// Bloc VAE sp√©cial - affich√© juste apr√®s le prix cr√©dit d'imp√¥t
const existingVaeBlock = document.querySelector('.vae-disclaimer');
if (!existingVaeBlock) {
    const vaeBlock = document.createElement('div');
    vaeBlock.className = 'vae-disclaimer';
    vaeBlock.style.cssText = 'background-color: #fff3cd; border: 2px solid #ffeaa7; color: #856404; padding: 15px; border-radius: 8px; margin-top: 15px; font-size: 0.95em; text-align: center;';
    vaeBlock.innerHTML = '<strong>‚ö†Ô∏è Moteur, batteries, accessoires et fournitures non-inclus dans cette estimation.</strong><br><br>√Ä rajouter sur devis car les mod√®les varient selon les projets.<br><strong>Prix moyen de tout cet √©quipement de marque VARSTROM = 700‚Ç¨</strong>';
    
    // Ins√©rer juste apr√®s le bloc price-highlight
    const priceHighlight = document.querySelector('.price-highlight');
    if (priceHighlight) {
        priceHighlight.parentNode.insertBefore(vaeBlock, priceHighlight.nextSibling);
    }
}

           resultContainer.style.display = 'block';
        }

        function calculatePriceNormal() {
            const selectedOption = serviceSelect.options[serviceSelect.selectedIndex];
            const hourlyRate = parseFloat(selectedOption.dataset.rate);
            const hours = parseInt(hoursInput.value) || 0;
            const trips = parseInt(tripsInput.value) || 0;

            // VALIDATION COMPL√àTE
            if (hours === 0 || trips === 0) {
                resultContainer.style.display = 'none';
                return;
            }

            const eveningValue = document.querySelector('input[name="evening"]:checked')?.value || '-';
            const difficultAccessValue = document.querySelector('input[name="difficult_access"]:checked')?.value || '-';
            const parkingValue = document.querySelector('input[name="parking"]:checked')?.value || '-';
            const cleaningValue = document.querySelector('input[name="cleaning"]:checked')?.value || '-';
            const wasteRemovalValue = document.querySelector('input[name="waste_removal"]:checked')?.value || '-';
            const longDistanceValue = document.querySelector('input[name="long_distance"]:checked')?.value || '-';

            // V√©rifier que TOUTES les options radio sont renseign√©es (pas "-")
            if (eveningValue === '-' || difficultAccessValue === '-' || parkingValue === '-' || 
                cleaningValue === '-' || wasteRemovalValue === '-' || longDistanceValue === '-') {
                resultContainer.style.display = 'none';
                return;
            }

            // V√©rifier que les checkboxes sont coch√©es
            if (!materialsCheck.checked || !disclaimerCheck.checked) {
                resultContainer.style.display = 'none';
                return;
            }

            // Si parking est "oui", v√©rifier que le nombre de jours est renseign√©
            if (parkingValue === 'oui') {
                const parkingDays = parseInt(parkingDaysInput.value) || 0;
                if (parkingDays === 0) {
                    resultContainer.style.display = 'none';
                    return;
                }
            }

            // Gestion affichage parking
            if (parkingValue === 'oui') {
                parkingInputDiv.style.display = 'block';
            } else {
                parkingInputDiv.style.display = 'none';
            }

            // TOUTES LES VALIDATIONS SONT OK, on peut calculer le prix
            let finalHourlyRate = hourlyRate;
            let optionsText = [];
            let optionsCostHT = 0;
            let optionsCostTotal = 0;

            if (eveningValue === 'oui') {
                finalHourlyRate = hourlyRate * 1.20;
                optionsText.push('Intervention soir√©e (+20% sur le prix HT)');
            }

            if (difficultAccessValue === 'oui') {
                optionsCostTotal += 15;
                optionsText.push('Acc√®s difficile (+15‚Ç¨ HT)');
            }

            if (cleaningValue === 'oui') {
                optionsCostTotal += 15;
                optionsText.push('Nettoyage (+15‚Ç¨ HT)');
            }

            if (wasteRemovalValue === 'oui') {
                optionsCostTotal += 20;
                optionsText.push('√âvacuation d√©chets (+20‚Ç¨ HT)');
            }

            if (parkingValue === 'oui') {
                const parkingDays = parseInt(parkingDaysInput.value) || 0;
                if (parkingDays > 0) {
                    const parkingCost = parkingDays * 5;
                    optionsCostTotal += parkingCost;
                    optionsText.push(`Parking payant (${parkingDays} utilisation${parkingDays > 1 ? 's' : ''}: +${parkingCost}‚Ç¨ HT)`);
                }
            }

            if (longDistanceValue === 'oui') {
                optionsCostHT += 30;
                optionsText.push('Longue distance (+30‚Ç¨ HT)');
            }

            const hoursCostHT = finalHourlyRate * hours;
            const congesPayes = hoursCostHT * 0.10;
            const tripsCostHT = TRIP_COST * trips;

            const totalHT = hoursCostHT + congesPayes + tripsCostHT + optionsCostHT + optionsCostTotal;
            const finalPrice = totalHT * CREDIT_RATE;

            document.getElementById('selectedService').textContent = selectedOption.text;
            document.getElementById('baseHourlyRate').textContent = `${hourlyRate.toFixed(2)}‚Ç¨/h HT`;
            
            if (eveningValue === 'oui') {
                document.getElementById('hourlyRate').textContent = `${finalHourlyRate.toFixed(2)}‚Ç¨/h HT (base + 20%)`;
            } else {
                document.getElementById('hourlyRate').textContent = `${finalHourlyRate.toFixed(2)}‚Ç¨/h HT`;
            }
            
            document.getElementById('duration').textContent = `${hours}h`;
            document.getElementById('tripsCount').textContent = trips === 1 ? 
                `${trips} d√©placement √ó 30‚Ç¨ = ${tripsCostHT}‚Ç¨ HT` : 
                `${trips} d√©placements √ó 30‚Ç¨ = ${tripsCostHT}‚Ç¨ HT`;
            document.getElementById('congesPayes').textContent = `${congesPayes.toFixed(2)}‚Ç¨`;
            document.getElementById('optionsDetail').textContent = optionsText.length > 0 ? optionsText.join(' ‚Ä¢ ') : 'Aucune';
            document.getElementById('subtotalHT').textContent = `${totalHT.toFixed(2)}‚Ç¨`;
            document.getElementById('totalTTC').textContent = `${totalHT.toFixed(2)}‚Ç¨`;
            document.getElementById('finalPrice').textContent = `${finalPrice.toFixed(2)}‚Ç¨`;

            const existingDisclaimer = document.querySelector('.vae-disclaimer');
            if (existingDisclaimer) {
                existingDisclaimer.remove();
            }

            resultContainer.style.display = 'block';
        }

        serviceSelect.addEventListener('change', updateCalculation);
        hoursInput.addEventListener('input', updateCalculation);
        tripsInput.addEventListener('input', updateCalculation);
        parkingDaysInput.addEventListener('input', updateCalculation);
        materialsCheck.addEventListener('change', updateCalculation);
        disclaimerCheck.addEventListener('change', updateCalculation);
        disclaimerCheck.addEventListener('change', validateDisclaimerBlock);

        const radioInputs = document.querySelectorAll('input[type="radio"]');
        radioInputs.forEach(input => {
            input.addEventListener('change', updateCalculation);
        });
validateDisclaimerBlock();
        updateCalculation();

        // Fonction pour r√©initialiser le calculateur
        function resetCalculator() {
            // R√©initialiser le formulaire
            document.getElementById('calculatorForm').reset();
            
            // R√©initialiser les checkboxes
            disclaimerCheck.checked = false;
            materialsCheck.checked = false;
            
            // R√©initialiser toutes les options radio √† "-"
            const radioGroups = ['evening', 'difficult_access', 'parking', 'cleaning', 'waste_removal', 'long_distance'];
            radioGroups.forEach(groupName => {
                const defaultRadio = document.querySelector(`input[name="${groupName}"][value="-"]`);
                if (defaultRadio) defaultRadio.checked = true;
            });
            
            // Masquer les conteneurs et alertes
            resultContainer.style.display = 'none';
            vaeAlert.style.display = 'none';
            devisAlert.style.display = 'none';
            parkingInputDiv.style.display = 'none';
            
            // Retirer toutes les classes de validation
            document.querySelectorAll('.error-field, .success-field').forEach(el => {
                el.classList.remove('error-field', 'success-field');
            });
            document.querySelectorAll('.error-option, .success-option').forEach(el => {
                el.classList.remove('error-option', 'success-option');
            });
            document.querySelectorAll('.error-checkbox, .success-checkbox').forEach(el => {
                el.classList.remove('error-checkbox', 'success-checkbox');
            });
            
            // R√©initialiser le bloc disclaimer
            const disclaimerContainer = document.getElementById('disclaimerContainer');
            disclaimerContainer.classList.remove('disclaimer-error', 'disclaimer-success');
            
            // Supprimer le bloc VAE sp√©cial s'il existe
            const existingVaeBlock = document.querySelector('.vae-disclaimer');
            if (existingVaeBlock) {
                existingVaeBlock.remove();
            }
            
            // R√©appliquer les validations initiales
            validateDisclaimerBlock();
            
            // Scroll vers le haut
            document.body.scrollTop = 0; // Pour Safari
            document.documentElement.scrollTop = 0; // Pour Chrome, Firefox, IE et Opera
        }
    </script>
<!-- Bouton Contact -->
<div id="contactButtonContainer" style="
  position: relative;
  margin: 30px auto;
  padding: 20px 0;
  z-index: 999;
  display: none;
  max-width: 650px;
  text-align: center;
">
  <div id="contactButtons" style="
    display: flex;
    flex-direction: row;
    gap: 15px;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
  ">
  </div>
</div>

<script>
// D√©tection du type de device et affichage du bouton contact
function initContactButton() {
  const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
  const container = document.getElementById('contactButtonContainer');
  const buttonsDiv = document.getElementById('contactButtons');
  
  // D√©terminer si on est sur devis-premium ou devis-zen
  const isPremium = document.title.includes('PREMIUM');
  const formulaType = isPremium ? 'PREMIUM' : 'ZEN';
  
  // Messages pr√©-remplis
  const emailSubject = encodeURIComponent(`Demande de contact suite au devis ${formulaType} r√©alis√© sur Nico-LA`);
  const emailBody = encodeURIComponent(`Bonjour Nico, j'ai r√©alis√© une estimation (hors fournitures) sur votre calculateur de devis ${formulaType} et je souhaiterais discuter avec vous de mon projet.
 Pourriez-vous me recontacter? Merci d'avance pour votre retour. Cordialement.`);
  
  const smsText = encodeURIComponent(`Bonjour Nico, j'ai utilis√© votre calculateur de devis ${formulaType}. Pouvons-nous √©changer sur mon projet ?`);
  
  const whatsappText = encodeURIComponent(`Bonjour Nico, j'ai utilis√© votre calculateur de devis ${formulaType}. Pouvons-nous √©changer sur mon projet ?`);
  
  const buttonStyle = `
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 12px 20px;
    background: linear-gradient(135deg, #E3B100 0%, #B0780B 100%);
    color: white;
    text-decoration: none;
    border-radius: 8px;
    font-weight: bold;
    font-size: 0.95em;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    transition: all 0.3s ease;
    cursor: pointer;
    border: none;
    font-family: 'Belleza', sans-serif;
    width: 100%;
          max-width: 280px;    
  `;
  
  if (isMobile) {
    // Mobile : 4 boutons (Tel, Email, WhatsApp, SMS)
    buttonsDiv.innerHTML = `
<a href="https://nico-la-tarifs.carrd.co/" target="_blank" style="${buttonStyle}"
         onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 12px rgba(0,0,0,0.3)'" 
         onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 8px rgba(0,0,0,0.2)'">
        ‚Üê Retour page tarif
      </a>
      <a href="tel:+33614417061" style="${buttonStyle}" 
         onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 12px rgba(0,0,0,0.3)'" 
         onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 8px rgba(0,0,0,0.2)'">
        üì± Appeler Nico
      </a>
      <a href="mailto:nicolas.szczot@gmail.com?subject=${emailSubject}&body=${emailBody}" style="${buttonStyle}"
         onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 12px rgba(0,0,0,0.3)'" 
         onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 8px rgba(0,0,0,0.2)'">
        ‚úâÔ∏è Envoyer un Email
      </a>
      <a href="https://wa.me/33614417061?text=${whatsappText}" target="_blank" style="${buttonStyle}"
         onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 12px rgba(0,0,0,0.3)'" 
         onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 8px rgba(0,0,0,0.2)'">
        <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="20" height="20" viewBox="0 0 48 48">
<path fill="#fff" d="M4.868,43.303l2.694-9.835C5.9,30.59,5.026,27.324,5.027,23.979C5.032,13.514,13.548,5,24.014,5c5.079,0.002,9.845,1.979,13.43,5.566c3.584,3.588,5.558,8.356,5.556,13.428c-0.004,10.465-8.522,18.98-18.986,18.98c-0.001,0,0,0,0,0h-0.008c-3.177-0.001-6.3-0.798-9.073-2.311L4.868,43.303z"></path><path fill="#fff" d="M4.868,43.803c-0.132,0-0.26-0.052-0.355-0.148c-0.125-0.127-0.174-0.312-0.127-0.483l2.639-9.636c-1.636-2.906-2.499-6.206-2.497-9.556C4.532,13.238,13.273,4.5,24.014,4.5c5.21,0.002,10.105,2.031,13.784,5.713c3.679,3.683,5.704,8.577,5.702,13.781c-0.004,10.741-8.746,19.48-19.486,19.48c-3.189-0.001-6.344-0.788-9.144-2.277l-9.875,2.589C4.953,43.798,4.911,43.803,4.868,43.803z"></path><path fill="#cfd8dc" d="M24.014,5c5.079,0.002,9.845,1.979,13.43,5.566c3.584,3.588,5.558,8.356,5.556,13.428c-0.004,10.465-8.522,18.98-18.986,18.98h-0.008c-3.177-0.001-6.3-0.798-9.073-2.311L4.868,43.303l2.694-9.835C5.9,30.59,5.026,27.324,5.027,23.979C5.032,13.514,13.548,5,24.014,5 M24.014,42.974C24.014,42.974,24.014,42.974,24.014,42.974C24.014,42.974,24.014,42.974,24.014,42.974 M24.014,42.974C24.014,42.974,24.014,42.974,24.014,42.974C24.014,42.974,24.014,42.974,24.014,42.974 M24.014,4C24.014,4,24.014,4,24.014,4C12.998,4,4.032,12.962,4.027,23.979c-0.001,3.367,0.849,6.685,2.461,9.622l-2.585,9.439c-0.094,0.345,0.002,0.713,0.254,0.967c0.19,0.192,0.447,0.297,0.711,0.297c0.085,0,0.17-0.011,0.254-0.033l9.687-2.54c2.828,1.468,5.998,2.243,9.197,2.244c11.024,0,19.99-8.963,19.995-19.98c0.002-5.339-2.075-10.359-5.848-14.135C34.378,6.083,29.357,4.002,24.014,4L24.014,4z"></path><path fill="#40c351" d="M35.176,12.832c-2.98-2.982-6.941-4.625-11.157-4.626c-8.704,0-15.783,7.076-15.787,15.774c-0.001,2.981,0.833,5.883,2.413,8.396l0.376,0.597l-1.595,5.821l5.973-1.566l0.577,0.342c2.422,1.438,5.2,2.198,8.032,2.199h0.006c8.698,0,15.777-7.077,15.78-15.776C39.795,19.778,38.156,15.814,35.176,12.832z"></path><path fill="#fff" fill-rule="evenodd" d="M19.268,16.045c-0.355-0.79-0.729-0.806-1.068-0.82c-0.277-0.012-0.593-0.011-0.909-0.011c-0.316,0-0.83,0.119-1.265,0.594c-0.435,0.475-1.661,1.622-1.661,3.956c0,2.334,1.7,4.59,1.937,4.906c0.237,0.316,3.282,5.259,8.104,7.161c4.007,1.58,4.823,1.266,5.693,1.187c0.87-0.079,2.807-1.147,3.202-2.255c0.395-1.108,0.395-2.057,0.277-2.255c-0.119-0.198-0.435-0.316-0.909-0.554s-2.807-1.385-3.242-1.543c-0.435-0.158-0.751-0.237-1.068,0.238c-0.316,0.474-1.225,1.543-1.502,1.859c-0.277,0.317-0.554,0.357-1.028,0.119c-0.474-0.238-2.002-0.738-3.815-2.354c-1.41-1.257-2.362-2.81-2.639-3.285c-0.277-0.474-0.03-0.731,0.208-0.968c0.213-0.213,0.474-0.554,0.712-0.831c0.237-0.277,0.316-0.475,0.474-0.791c0.158-0.317,0.079-0.594-0.04-0.831C20.612,19.329,19.69,16.983,19.268,16.045z" clip-rule="evenodd"></path>
</svg> WhatsApp
      </a>
      <a href="sms:+33614417061&body=${smsText}" style="${buttonStyle}"
         onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 12px rgba(0,0,0,0.3)'" 
         onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 8px rgba(0,0,0,0.2)'">
        üí¨ SMS
      </a>
    `;
  } else {
    // Desktop : 2 boutons (Email, Formulaire)
    buttonsDiv.innerHTML = `
<a href="https://nico-la-tarifs.carrd.co/" target="_blank" style="${buttonStyle}"
         onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 12px rgba(0,0,0,0.3)'" 
         onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 8px rgba(0,0,0,0.2)'">
        ‚Üê Retour page tarif
      </a>
      <a href="mailto:nicolas.szczot@gmail.com?subject=${emailSubject}&body=${emailBody}" style="${buttonStyle}"
         onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 12px rgba(0,0,0,0.3)'" 
         onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 8px rgba(0,0,0,0.2)'">
        ‚úâÔ∏è Envoyer un Email
      </a>
      <a href="https://nico-la-contact.carrd.co/" target="_blank" style="${buttonStyle}"
         onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 12px rgba(0,0,0,0.3)'" 
         onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 8px rgba(0,0,0,0.2)'">
        üì¢ Page de Contact
      </a>
    `;
  }
  
  // Afficher le bouton uniquement si le r√©sultat est visible
  const observer = new MutationObserver(function(mutations) {
    const resultContainer = document.getElementById('resultContainer');
    if (resultContainer && resultContainer.style.display === 'block') {
      container.style.display = 'block';
    } else {
      container.style.display = 'none';
    }
  });
  
  const resultContainer = document.getElementById('resultContainer');
  if (resultContainer) {
    observer.observe(resultContainer, { attributes: true, attributeFilter: ['style'] });
  }
}

// Initialiser au chargement
document.addEventListener('DOMContentLoaded', initContactButton);
</script>
<!--Start of Tawk.to Script-->
<script type="text/javascript">
var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
(function(){
var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
s1.async=true;
s1.src='https://embed.tawk.to/68dfd0a5243dae1952feefda/1j6l4e1g3';
s1.charset='UTF-8';
s1.setAttribute('crossorigin','*');
s0.parentNode.insertBefore(s1,s0);
})();
</script>
<!--End of Tawk.to Script-->
</body>

</html>

























